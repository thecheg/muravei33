!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t||self).lenis=e()}(this,function(){function t(t,e,i){return Math.max(t,Math.min(e,i))}var e=/*#__PURE__*/function(){function e(){}var i=e.prototype;return i.advance=function(e){var i;if(this.isRunning){var o,n=!1;if(this.lerp)this.value=(1-(o=this.lerp))*this.value+o*this.to,Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;var s=t(0,this.currentTime/this.duration,1),r=(n=s>=1)?1:this.easing(s);this.value=this.from+(this.to-this.from)*r}null==(i=this.onUpdate)||i.call(this,this.value,{completed:n}),n&&this.stop()}},i.stop=function(){this.isRunning=!1},i.fromTo=function(t,e,i){var o=i.lerp,n=void 0===o?.1:o,s=i.duration,r=void 0===s?1:s,l=i.easing,h=void 0===l?function(t){return t}:l,a=i.onUpdate;this.from=this.value=t,this.to=e,this.lerp=n,this.duration=r,this.easing=h,this.currentTime=0,this.isRunning=!0,this.onUpdate=a},e}(),i=/*#__PURE__*/function(){function t(t){var e=this;this.onResize=function(t){var i=t[0];if(i){var o=i.contentRect,n=o.height;e.width=o.width,e.height=n}},this.onWindowResize=function(){e.width=window.innerWidth,e.height=window.innerHeight},this.element=t,t===window?(window.addEventListener("resize",this.onWindowResize),this.onWindowResize()):(this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.resizeObserver=new ResizeObserver(this.onResize),this.resizeObserver.observe(this.element))}return t.prototype.destroy=function(){window.removeEventListener("resize",this.onWindowResize),this.resizeObserver.disconnect()},t}(),o=/*#__PURE__*/function(){function e(e,i){var o=this,n=i.wheelMultiplier,s=void 0===n?1:n,r=i.touchMultiplier,l=void 0===r?2:r,h=i.normalizeWheel,a=void 0!==h&&h;this.onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t,i=e.pageY;o.touchStart.x=e.pageX,o.touchStart.y=i},this.onTouchMove=function(t){var e=t.targetTouches?t.targetTouches[0]:t,i=e.pageX,n=e.pageY,s=-(i-o.touchStart.x)*o.touchMultiplier,r=-(n-o.touchStart.y)*o.touchMultiplier;o.touchStart.x=i,o.touchStart.y=n,o.emitter.emit("scroll",{type:"touch",deltaX:s,deltaY:r,event:t})},this.onWheel=function(e){var i=e.deltaX,n=e.deltaY;o.normalizeWheel&&(i=t(-100,i,100),n=t(-100,n,100)),o.emitter.emit("scroll",{type:"wheel",deltaX:i*=o.wheelMultiplier,deltaY:n*=o.wheelMultiplier,event:e})},this.element=e,this.wheelMultiplier=s,this.touchMultiplier=l,this.normalizeWheel=a,this.touchStart={x:null,y:null},this.emitter={events:{},emit:function(t){for(var e=this.events[t]||[],i=0,o=e.length;i<o;i++)e[i].apply(e,[].slice.call(arguments,1))},on:function(t,e){var i,o=this;return(null==(i=this.events[t])?void 0:i.push(e))||(this.events[t]=[e]),function(){var i;o.events[t]=null==(i=o.events[t])?void 0:i.filter(function(t){return e!==t})}}},this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1})}var i=e.prototype;return i.on=function(t,e){return this.emitter.on(t,e)},i.destroy=function(){this.emitter.events={},this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1})},e}(),n=/*#__PURE__*/function(){function n(t){var n=this,s=void 0===t?{}:t,r=s.direction,l=s.gestureDirection,h=s.mouseMultiplier,a=s.smooth,u=s.wrapper,c=void 0===u?window:u,d=s.content,p=void 0===d?document.documentElement:d,v=s.smoothWheel,m=void 0===v?null==a||a:v,f=s.smoothTouch,g=void 0!==f&&f,S=s.duration,w=s.easing,y=void 0===w?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:w,M=s.lerp,b=void 0===M?S?null:.1:M,z=s.infinite,T=void 0!==z&&z,L=s.orientation,E=void 0===L?null!=r?r:"vertical":L,W=s.gestureOrientation,_=void 0===W?null!=l?l:"vertical":W,k=s.touchMultiplier,O=void 0===k?2:k,R=s.wheelMultiplier,H=void 0===R?null!=h?h:1:R,x=s.normalizeWheel,X=void 0===x||x;this.onVirtualScroll=function(t){var e=t.type,i=t.deltaX,o=t.deltaY,s=t.event;if(!s.ctrlKey&&!("vertical"===n.options.gestureOrientation&&0===o||"horizontal"===n.options.gestureOrientation&&0===i||s.composedPath().find(function(t){return null==t||null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent")})))if(n.isStopped||n.isLocked)s.preventDefault();else{if(n.isSmooth=n.options.smoothTouch&&"touch"===e||n.options.smoothWheel&&"wheel"===e,!n.isSmooth)return n.isScrolling=!1,void n.animate.stop();s.preventDefault();var r=o;"both"===n.options.gestureOrientation?r=Math.abs(o)>Math.abs(i)?o:i:"horizontal"===n.options.gestureOrientation&&(r=i),n.scrollTo(n.targetScroll+r,{programmatic:!1})}},this.onScroll=function(){if(!n.isScrolling){var t=n.animatedScroll;n.animatedScroll=n.targetScroll=n.actualScroll,n.velocity=0,n.direction=Math.sign(n.animatedScroll-t),n.emit()}},r&&console.warn("Lenis: `direction` option is deprecated, use `orientation` instead"),l&&console.warn("Lenis: `gestureDirection` option is deprecated, use `gestureOrientation` instead"),h&&console.warn("Lenis: `mouseMultiplier` option is deprecated, use `wheelMultiplier` instead"),a&&console.warn("Lenis: `smooth` option is deprecated, use `smoothWheel` instead"),window.lenisVersion="1.0.3",c!==document.documentElement&&c!==document.body||(c=window),this.options={wrapper:c,content:p,smoothWheel:m,smoothTouch:g,duration:S,easing:y,lerp:b,infinite:T,gestureOrientation:_,orientation:E,touchMultiplier:O,wheelMultiplier:H,normalizeWheel:X},this.wrapper=new i(c),this.content=new i(p),this.rootElement.classList.add("lenis"),this.velocity=0,this.isStopped=!1,this.isSmooth=m||g,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.animate=new e,this.emitter={events:{},emit:function(t){for(var e=this.events[t]||[],i=0,o=e.length;i<o;i++)e[i].apply(e,[].slice.call(arguments,1))},on:function(t,e){var i,o=this;return(null==(i=this.events[t])?void 0:i.push(e))||(this.events[t]=[e]),function(){var i;o.events[t]=null==(i=o.events[t])?void 0:i.filter(function(t){return e!==t})}}},this.wrapper.element.addEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll=new o(c,{touchMultiplier:O,wheelMultiplier:H,normalizeWheel:X}),this.virtualScroll.on("scroll",this.onVirtualScroll)}var s,r,l=n.prototype;return l.destroy=function(){this.emitter.events={},this.wrapper.element.removeEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll.destroy()},l.on=function(t,e){return this.emitter.on(t,e)},l.off=function(t,e){var i;this.emitter.events[t]=null==(i=this.emitter.events[t])?void 0:i.filter(function(t){return e!==t})},l.setScroll=function(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t},l.emit=function(){this.emitter.emit("scroll",this)},l.reset=function(){this.isLocked=!1,this.isScrolling=!1,this.velocity=0},l.start=function(){this.isStopped=!1,this.reset()},l.stop=function(){this.isStopped=!0,this.animate.stop(),this.reset()},l.raf=function(t){var e=t-(this.time||t);this.time=t,this.animate.advance(.001*e)},l.scrollTo=function(e,i){var o=this,n=void 0===i?{}:i,s=n.offset,r=void 0===s?0:s,l=n.immediate,h=void 0!==l&&l,a=n.lock,u=void 0!==a&&a,c=n.duration,d=void 0===c?this.options.duration:c,p=n.easing,v=void 0===p?this.options.easing:p,m=n.lerp,f=void 0===m?!d&&this.options.lerp:m,g=n.onComplete,S=void 0===g?null:g,w=n.force,y=n.programmatic,M=void 0===y||y;if(!this.isStopped||void 0!==w&&w){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{var b,z;if("string"==typeof e?z=document.querySelector(e):null!=(b=e)&&b.nodeType&&(z=e),z){if(this.wrapper.element!==window){var T=this.wrapper.element.getBoundingClientRect();r-=this.isHorizontal?T.left:T.top}var L=z.getBoundingClientRect();e=(this.isHorizontal?L.left:L.top)+this.animatedScroll}}if("number"==typeof e){if(e+=r,e=Math.round(e),this.options.infinite?M&&(this.targetScroll=this.animatedScroll=this.scroll):e=t(0,e,this.limit),h)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.animate.stop(),this.reset(),this.emit(),void(null==S||S());M||(this.targetScroll=e),this.animate.fromTo(this.animatedScroll,e,{duration:d,easing:v,lerp:f,onUpdate:function(t,e){var i=e.completed;u&&(o.isLocked=!0),o.isScrolling=!0,o.velocity=t-o.animatedScroll,o.direction=Math.sign(o.velocity),o.animatedScroll=t,o.setScroll(o.scroll),M&&(o.targetScroll=t),i&&(u&&(o.isLocked=!1),requestAnimationFrame(function(){o.isScrolling=!1}),o.velocity=0,null==S||S()),o.emit()}})}}},s=n,(r=[{key:"rootElement",get:function(){return this.wrapper.element===window?this.content.element:this.wrapper.element}},{key:"limit",get:function(){return Math.round(this.isHorizontal?this.content.width-this.wrapper.width:this.content.height-this.wrapper.height)}},{key:"isHorizontal",get:function(){return"horizontal"===this.options.orientation}},{key:"actualScroll",get:function(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}},{key:"scroll",get:function(){return this.options.infinite?(e=this.animatedScroll%(t=this.limit),(t>0&&e<0||t<0&&e>0)&&(e+=t),e):this.animatedScroll;var t,e}},{key:"progress",get:function(){return this.scroll/this.limit}},{key:"isSmooth",get:function(){return this.__isSmooth},set:function(t){this.__isSmooth!==t&&(this.rootElement.classList.toggle("lenis-smooth",t),this.__isSmooth=t)}},{key:"isScrolling",get:function(){return this.__isScrolling},set:function(t){this.__isScrolling!==t&&(this.rootElement.classList.toggle("lenis-scrolling",t),this.__isScrolling=t)}},{key:"isStopped",get:function(){return this.__isStopped},set:function(t){this.__isStopped!==t&&(this.rootElement.classList.toggle("lenis-stopped",t),this.__isStopped=t)}}])&&function(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,"symbol"==typeof(n=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key))?n:String(n),o)}var n}(s.prototype,r),Object.defineProperty(s,"prototype",{writable:!1}),n}();return n});
//# sourceMappingURL=lenis.umd.js.map
